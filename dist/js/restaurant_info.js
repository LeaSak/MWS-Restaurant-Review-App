"use strict";window.initMap=function(){fetchRestaurantFromURL().then(function(e){self.map=new google.maps.Map(document.getElementById("map"),{zoom:16,center:e.latlng,scrollwheel:!1}),fillBreadcrumb(),DBHelper.mapMarkerForRestaurant(self.restaurant,self.map);self.map.addListener("tilesloaded",function(){document.querySelector("#map iframe").setAttribute("title","Map with selected restaurant marker")})}).catch(function(e){console.error(e)})};var fetchRestaurantFromURL=function(){var t=getParameterByName("id");return self.restaurant?self.restaurant:DBHelper.fetchRestaurantById(t).then(function(e){return self.restaurant=e,fillRestaurantHTML(),e}).catch(function(e){t&&restaurant||console.error(e)})},fillRestaurantHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant;document.getElementById("restaurant-name").textContent=e.name,document.getElementById("address-title").textContent="Address",document.getElementById("restaurant-address").textContent=e.address;var t=document.getElementById("restaurant-img");(t.src=DBHelper.imageUrlForRestaurant(e),t.setAttribute("alt",e.alt),t.sizes="100vw",t.srcset=DBHelper.srcsetForRestaurant(e),document.getElementById("cuisine-title").textContent="Cuisine",document.getElementById("restaurant-cuisine").textContent=e.cuisine_type,e.operating_hours)&&(document.getElementById("hours-title").textContent="Operating Hours",fillRestaurantHoursHTML());fillReviewsHTML()},fillRestaurantHoursHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.operating_hours,t=document.getElementById("restaurant-hours");for(var n in e){var a=document.createElement("tr"),r=document.createElement("td");r.textContent=n,r.className="day",a.appendChild(r);var l=document.createElement("td");l.textContent=e[n],l.className="time",a.appendChild(l),t.appendChild(a)}},fillReviewsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.reviews,t=document.getElementById("reviews-container"),n=document.createElement("h2");if(n.className="review-section-title",n.textContent="Reviews",t.appendChild(n),!e){var a=document.createElement("p");return a.textContent="No reviews yet!",void t.appendChild(a)}var r=document.getElementById("reviews-list");e.forEach(function(e){r.appendChild(createReviewHTML(e))}),t.appendChild(r)},createReviewHTML=function(e){var t=document.createElement("li");t.className="reviews-list-item";var n=document.createElement("div");n.className="name-container";var a=document.createElement("p");a.textContent=e.name,t.appendChild(n),n.appendChild(a);var r=document.createElement("p");r.textContent=e.date,r.className="review-date",n.appendChild(r);var l=document.createElement("p");l.textContent="Rating: "+e.rating,l.className="rating",t.appendChild(l);var s=document.createElement("p");return s.textContent=e.comments,s.className="comments",t.appendChild(s),t},fillBreadcrumb=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant,t=document.getElementById("breadcrumb"),n=document.createElement("li");n.textContent=e.name,t.appendChild(n)},getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};
//# sourceMappingURL=restaurant_info.js.map
