{"version":3,"sources":["offline.js"],"names":["registerServiceWorker","navigator","serviceWorker","window","addEventListener","register","then","reg","controller","console","log","ready","catch","error","message","data","DBHelper","fetchPendingReviewsFromDB"],"mappings":"aAAA,SAASA,wBACAC,UAAUC,eAAfC,OAAKF,iBAAUC,OAAe,WAE9BC,UAAOC,cAAiBC,SAAQ,UAG3BC,KAAK,SAACC,GAEH,GAAKN,UAAUC,cAAcM,WAG7BC,OADCA,QAAAC,IAAA,iBACDD,UAAYP,cAAZS,QAIGC,MAAA,SAAAC,GAAA,MAAA,sCAA+CA,IAEtDZ,UAAUC,cAAcE,iBAAiB,UAAW,SAAAU,GAA5BV,gBAAxBH,EAAUC,KAAAA,UACFY,QAAQC,IAARD,EAAAC,KAAwBD,SAExBE,SAAAC,iCAWhBjB","file":"offline.js","sourcesContent":["function registerServiceWorker() {\n    if (!navigator.serviceWorker) return;\n\n    window.addEventListener('load', function() {\n\n        navigator.serviceWorker.register('/sw.js')\n        .then((reg) => {\n\n            if (!navigator.serviceWorker.controller) {\n                return;\n            }\n            console.log('SW registered');\n            return navigator.serviceWorker.ready;\n\n        })\n        .catch(error => `ServiceWorker registration failed: ${error}`);\n\n        navigator.serviceWorker.addEventListener('message', message => {\n            if (message.data.message == 'post-reviews') {\n                console.log(message.data.message);\n                // fetch reviews from database\n                DBHelper.fetchPendingReviewsFromDB();\n                // post them to server\n                // delete cached pending review\n            }\n        });\n\n\n    });\n}\n\nregisterServiceWorker();"]}