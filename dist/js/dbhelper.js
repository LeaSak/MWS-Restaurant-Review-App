"use strict";var _createClass=function(){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var DBHelper=function(){function u(){_classCallCheck(this,u)}return _createClass(u,null,[{key:"logError",value:function(e){console.error(e)}},{key:"validateJSON",value:function(e){if(!e.ok)throw Error(e.statusText);return e.json()}},{key:"defineRestaurants",value:function(e){return e}},{key:"fetchRestaurants",value:function(){return fetch(u.DATABASE_URL).then(u.validateJSON).then(u.defineRestaurants)}},{key:"fetchRestaurantById",value:function(t){return u.fetchRestaurants().then(function(e){var n=e.find(function(e){return e.id==t});if(n)return n})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(t,r){return u.fetchRestaurants().then(function(e){var n=e;return"all"!=t&&(n=n.filter(function(e){return e.cuisine_type==t})),"all"!=r&&(n=n.filter(function(e){return e.neighborhood==r})),n})}},{key:"fetchNeighborhoods",value:function(){return u.fetchRestaurants().then(function(t){var r=t.map(function(e,n){return t[n].neighborhood});return r.filter(function(e,n){return r.indexOf(e)==n})})}},{key:"fetchCuisines",value:function(){return u.fetchRestaurants().then(function(t){var r=t.map(function(e,n){return t[n].cuisine_type});return r.filter(function(e,n){return r.indexOf(e)==n})})}},{key:"urlForRestaurant",value:function(e){return"./restaurant.html?id="+e.id}},{key:"imageUrlForRestaurant",value:function(e){return"img/"+e.id+"-600.webp"}},{key:"srcsetForRestaurant",value:function(e){return"img/"+e.id+"-400.webp 400w, \n      img/"+e.id+"-600.webp 600w, \n      img/"+e.id+"-800.webp 800w,\n      img/"+e.id+"-1200.webp 1200w,\n      img/"+e.id+"-1500.webp 1500w,\n      img/"+e.id+"-2000.webp 2000w"}},{key:"mapMarkerForRestaurant",value:function(e,n){return new google.maps.Marker({position:e.latlng,title:e.name,url:u.urlForRestaurant(e),map:n,animation:google.maps.Animation.DROP})}},{key:"DATABASE_URL",get:function(){return"http://localhost:1337/restaurants"}}]),u}();
//# sourceMappingURL=dbhelper.js.map
