"use strict";var _createClass=function(){function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}();function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var DBHelper=function(){function u(){_classCallCheck(this,u)}return _createClass(u,null,[{key:"fetchRestaurants",value:function(){return fetch(u.DATABASE_URL).then(function(n){if(!n.ok)throw Error(n.statusText);return n.json()}).then(function(n){var t=n;return console.log(t),t}).catch(function(n){console.log(n)})}},{key:"fetchRestaurantById",value:function(e){return u.fetchRestaurants().then(function(n){var t=n.find(function(n){return n.id==e});if(t)return t}).catch(function(n){console.log("Restaurant does not exist",n)})}},{key:"fetchRestaurantByCuisine",value:function(t){u.fetchRestaurants().then(function(n){return n.filter(function(n){return n.cuisine_type==t})}).catch(function(n){console.log(n)})}},{key:"fetchRestaurantByNeighborhood",value:function(t){u.fetchRestaurants().then(function(n){return restaurants.filter(function(n){return n.neighborhood==t})}).error(function(n){console.log(n)})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(e,r){return u.fetchRestaurants().then(function(n){var t=n;return"all"!=e&&(t=t.filter(function(n){return n.cuisine_type==e})),"all"!=r&&(t=t.filter(function(n){return n.neighborhood==r})),t}).catch(function(n){console.log(n)})}},{key:"fetchNeighborhoods",value:function(){return u.fetchRestaurants().then(function(e){var r=e.map(function(n,t){return e[t].neighborhood}),n=r.filter(function(n,t){return r.indexOf(n)==t});return console.log(n),n}).catch(function(n){console.log(n)})}},{key:"fetchCuisines",value:function(){return u.fetchRestaurants().then(function(e){var r=e.map(function(n,t){return e[t].cuisine_type});return r.filter(function(n,t){return r.indexOf(n)==t})}).catch(function(n){console.log(n)})}},{key:"urlForRestaurant",value:function(n){return"./restaurant.html?id="+n.id}},{key:"imageUrlForRestaurant",value:function(n){return"img/"+n.id+"-600.webp"}},{key:"srcsetForRestaurant",value:function(n){return"img/"+n.id+"-400.webp 400w, \n      img/"+n.id+"-600.webp 600w, \n      img/"+n.id+"-800.webp 800w,\n      img/"+n.id+"-1200.webp 1200w,\n      img/"+n.id+"-1500.webp 1500w,\n      img/"+n.id+"-2000.webp 2000w"}},{key:"mapMarkerForRestaurant",value:function(n,t){return new google.maps.Marker({position:n.latlng,title:n.name,url:u.urlForRestaurant(n),map:t,animation:google.maps.Animation.DROP})}},{key:"DATABASE_URL",get:function(){return"http://localhost:1337/restaurants"}}]),u}();
//# sourceMappingURL=dbhelper.js.map
