"use strict";var CACHE_NAME="restaurant-app-v1",CACHE_IMAGES="restaurant-app-images-v1",STATIC_ASSETS=["/","restaurant.html","css/app-main.css","css/app-restaurant.css","js/dbhelper.js","js/main.js","js/restaurant_info.js","js/vendor/idb.min.js","js/vendor/lazysizes.min.js"];function servePhoto(t){var r=t.url.replace(/-\d+\.webp$/,"");return caches.open(CACHE_IMAGES).then(function(n){return n.match(r).then(function(e){return e||fetch(t).then(function(e){return n.put(r,e.clone()),e})})})}"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})}),self.addEventListener("install",function(e){e.waitUntil(caches.open(CACHE_NAME).then(function(e){return e.addAll(STATIC_ASSETS)}))}),self.addEventListener("fetch",function(t){var e=new URL(t.request.url);if(e.origin===location.origin){if("/"===e.pathname)return void t.respondWith(caches.match("/"));if(e.pathname.endsWith(".webp")||e.pathname.endsWith(".jpg"))return void t.respondWith(servePhoto(t.request))}t.respondWith(caches.open(CACHE_NAME).then(function(n){return n.match(t.request).then(function(e){return e||fetch(t.request).then(function(e){return n.put(t.request,e.clone()),e})})}))});
//# sourceMappingURL=sw.js.map
